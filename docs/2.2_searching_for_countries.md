# Searching for Countries
This tutorial will guide you in coding a MicroCity script to manipulate GIS data. You have to complete 2.1 to proceed. 
## 1 GIS Data Structure
![structure](imgs/gis_data_structure.png)
## 2 MicroCitry Functions

## 3 
```lua
local Countries = GetControl("Countries.shp")           --Try to get control of the GIS layer
for i = 1, GetRecCount(Countries) do                    --Loop all the shape objects in the layer
    local country = GetShape(Countries, i)              --Get the shape object of a country
    local north = true                                  --Assume the country is in the northern hemisphere
    for j = 1, GetPartCount(country) do                 --Loop all of the parts in the shape
        for k = 1, GetPointCount(country, j) do         --Loop all of the points in the shape part
            local x, y = GetPointXY(country, k, j)      --Get coordinate of the point j
            if y < 0 then                               --If the latitude is less than 0
                north = false                           --The north assumption is false
            end
        end
    end
    local pop = GetValue(country, "POP_EST")            --Get the population property
    local name = GetValue(country, "NAME")              --Get the country name
    if pop > 100000000 and north  then                  --Check the two conditions
        Print(name, ": ", pop/100000000)                --Print out the result
    end
end
```

[**< 2.1 Showing a World Map**](2.1_showing_a_world_map.md) | [**Table of Contents**](.) | [**3.1 Overview >**](3.1_overview.md)
